(this["webpackJsonpecharts-sw"]=this["webpackJsonpecharts-sw"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(20),s=n.n(i),a=(n(28),n(9)),o=n(2),l=(n(29),n(8)),u=n.n(l),h=n(12),j=n(11),d=n(23),f=(n(36),"https://swapi.dev/api"),b=function(){return new Promise((function(e,t){fetch("".concat(f,"/films")).then((function(e){return e.json()})).then((function(n){(null===n||void 0===n?void 0:n.error)?t(null===n||void 0===n?void 0:n.error):e(null===n||void 0===n?void 0:n.results)})).catch((function(e){t(e)}))}))},O=n(1),v=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(j.a)(i,2),o=s[0],l=s[1],f=function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,b();case 4:t=e.sent,l(t),r(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l([]),r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){var t=new RegExp(/(?<=films\/)./,"gi"),n=e.match(t);return n&&n.length?n[0]:""},x={series:[{type:"treemap",data:o&&o.length?o.map((function(e){var t,n,c=(null===(t=e.characters)||void 0===t?void 0:t.length)&&(null===(n=e.characters)||void 0===n?void 0:n.length);return{name:"".concat(e.title," - Personajes: ").concat(c),value:c}})):[]}]};return Object(c.useEffect)((function(){f()}),[]),Object(O.jsxs)("main",{children:[n&&"Loading...",!n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:"Films list"}),o&&o.length?Object(O.jsx)("ul",{children:o.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(a.b,{to:"echarts-sw/films/".concat(v(e.url)),children:Object(O.jsxs)("h4",{children:[e.title,Object(O.jsx)("span",{children:"\u2192"})]})})},e.title)}))}):null]}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:"Chart"}),Object(O.jsx)(d.a,{style:{height:400},option:x})]})]})]})},x=(n(46),function(e){return new Promise((function(t,n){fetch("".concat(f,"/films/").concat(e)).then((function(e){return e.json()})).then((function(e){(null===e||void 0===e?void 0:e.error)?n(null===e||void 0===e?void 0:e.error):t(e)})).catch((function(e){n(e)}))}))}),p=function(){var e,t=Object(o.f)().id,n=Object(c.useState)(null),r=Object(j.a)(n,2),i=r[0],s=r[1],a=function(){var e=Object(h.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t);case 3:n=e.sent,s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(t)}),[t]),Object(O.jsx)("main",{children:i&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:i.title}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsxs)("h3",{children:["Created: ",function(e){if(e){var t=new RegExp(/^(.*?)T/,"gi"),n=e.match(t);return n&&n.length?n[0].replace("T",""):""}return""}(i.created&&i.created)]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("h3",{children:["Amount of characters: ",null===(e=i.characters)||void 0===e?void 0:e.length]})})]})]})})};var m=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{children:Object(O.jsxs)(a.a,{children:[Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:"Star Wars Movies"})}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/echarts-sw",component:v}),Object(O.jsx)(o.a,{path:"/echarts-sw/films/:id",component:p})]})]})})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(m,{})}),document.getElementById("root")),g()}},[[47,1,2]]]);
//# sourceMappingURL=main.2e09bb83.chunk.js.map